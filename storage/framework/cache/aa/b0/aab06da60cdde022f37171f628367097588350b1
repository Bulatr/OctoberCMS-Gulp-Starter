1606362893a:1:{s:11:"product.htm";a:16:{s:8:"fileName";s:11:"product.htm";s:7:"content";s:5044:"title = "Product page"
url = "/catalog/:main_category/:category/:slug"
layout = "main"
meta_title = "Product page"
is_hidden = 0

[CategoryPage]
slug = "{{ :category }}"
slug_required = 1
smart_url_check = 0

[CategoryPage ParentCategoryPage]
slug = "{{ :main_category }}"
slug_required = 1
smart_url_check = 0

[ProductPage]
slug = "{{ :slug }}"
slug_required = 1
smart_url_check = 1

[CatalogBreadcrumbs]

[ProductData]

[Pagination]
count_per_page = 5
pagination_limit = 5
active_class = "uk-active"
button_list = "prev,first,first-more,main,last-more,last,next"
first_button_name = "First"
first_button_limit = 3
first-more_button_name = "..."
first-more_button_limit = 3
prev_button_name = "Prev"
prev_button_limit = 1
prev-more_button_name = "..."
prev-more_button_limit = 1
next-more_button_name = "..."
next-more_button_limit = 1
next_button_name = "Next"
next_button_limit = 1
last-more_button_name = "..."
last-more_button_limit = 3
last_button_name = "Last"
last_button_limit = 3
==
<?php
function onInit()
{
    /**
     * Check if MakeReview component has been registered and autoload it
     **/
    // [MakeReview]
    // mode = "ajax"

    $obManager = \Cms\Classes\ComponentManager::instance();
    if ($obManager->hasComponent('Lovata\ReviewsShopaholic\Components\MakeReview')){
        $this->addComponent('Lovata\ReviewsShopaholic\Components\MakeReview', 'MakeReview', [ 'mode' => 'ajax']);
    }

    $this['bHasPropertiesPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.PropertiesShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.PropertiesShopaholic');
    $this['bHasRelatedProductsPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.RelatedProductsShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.RelatedProductsShopaholic');
    $this['bHasReviewsPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.ReviewsShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.ReviewsShopaholic');
    $this['bHasAccessoriesPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.AccessoriesShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.AccessoriesShopaholic');
}
?>
==
{# Get product item #}
{# @var obProduct \Lovata\Shopaholic\Classes\Item\ProductItem #}
{% set obProduct = ProductPage.get() %}

{# Get breadcrumbs #}
{% set arBreadcrumbs = CatalogBreadcrumbs.getByProductID(obProduct.id) %}

<div class="uk-grid uk-margin-small-left">
    <div class="uk-width-5-6">
        <div class="uk-margin-small-bottom">
            {% partial 'breadcrumbs/catalog' arBreadcrumbs=arBreadcrumbs %}
        </div>

        <div class="product_info_wrapper" uk-grid>
            {% partial 'product/product_gallery' obProduct=obProduct %}
            {% partial 'product/product_info' obProduct=obProduct %}
        </div>

        <hr class="uk-padding-remove uk-margin-remove-top">

        {% set obRelatedProductList = obProduct.related.active() %}
        {% set obAccessoryProductList = obProduct.accessory.active() %}
        <div>
            <ul uk-tab="animation: uk-animation-fade">
                {% if bHasPropertiesPlugin %}
                <li><a href="#">Characteristics</a></li>
                {% endif %}
                {% if bHasRelatedProductsPlugin and obRelatedProductList.isNotEmpty() %}
                    <li><a href="#">Related</a></li>
                {% endif %}
                {% if bHasReviewsPlugin %}
                    <li><a href="#">Reviews</a></li>
                {% endif %}
                {% if bHasAccessoriesPlugin and obAccessoryProductList.isNotEmpty() %}
                    <li><a href="#">Accessories</a></li>
                {% endif %}
            </ul>

            <div class="uk-switcher uk-margin">
                {% if bHasPropertiesPlugin %}
                <div>
                    {% partial 'product/product_properties' obProduct=obProduct %}
                </div>
                {% endif %}
                {% if bHasRelatedProductsPlugin and obRelatedProductList.isNotEmpty() %}
                <div>
                    {% partial 'product/product_slider' obProductList=obRelatedProductList %}
                </div>
                {% endif %}
                {% if bHasReviewsPlugin %}
                <div>
                    {% partial 'section/review_list_wrapper' obProduct=obProduct %}
                </div>
                {% endif %}
                {% if bHasAccessoriesPlugin  and obAccessoryProductList.isNotEmpty() %}
                <div>
                    {% partial 'product/product_slider' obProductList=obAccessoryProductList %}
                </div>
                {% endif %}
            </div>
        </div>
        <div class="uk-margin-small-top">
            {% partial 'product/product_description' obProduct=obProduct %}
        </div>
    </div>
    <div class="uk-width-1-6">
        {% partial 'right_panel/product_page' %}
    </div>
</div>";s:5:"mtime";i:1549486316;s:6:"markup";s:2769:"{# Get product item #}
{# @var obProduct \Lovata\Shopaholic\Classes\Item\ProductItem #}
{% set obProduct = ProductPage.get() %}

{# Get breadcrumbs #}
{% set arBreadcrumbs = CatalogBreadcrumbs.getByProductID(obProduct.id) %}

<div class="uk-grid uk-margin-small-left">
    <div class="uk-width-5-6">
        <div class="uk-margin-small-bottom">
            {% partial 'breadcrumbs/catalog' arBreadcrumbs=arBreadcrumbs %}
        </div>

        <div class="product_info_wrapper" uk-grid>
            {% partial 'product/product_gallery' obProduct=obProduct %}
            {% partial 'product/product_info' obProduct=obProduct %}
        </div>

        <hr class="uk-padding-remove uk-margin-remove-top">

        {% set obRelatedProductList = obProduct.related.active() %}
        {% set obAccessoryProductList = obProduct.accessory.active() %}
        <div>
            <ul uk-tab="animation: uk-animation-fade">
                {% if bHasPropertiesPlugin %}
                <li><a href="#">Characteristics</a></li>
                {% endif %}
                {% if bHasRelatedProductsPlugin and obRelatedProductList.isNotEmpty() %}
                    <li><a href="#">Related</a></li>
                {% endif %}
                {% if bHasReviewsPlugin %}
                    <li><a href="#">Reviews</a></li>
                {% endif %}
                {% if bHasAccessoriesPlugin and obAccessoryProductList.isNotEmpty() %}
                    <li><a href="#">Accessories</a></li>
                {% endif %}
            </ul>

            <div class="uk-switcher uk-margin">
                {% if bHasPropertiesPlugin %}
                <div>
                    {% partial 'product/product_properties' obProduct=obProduct %}
                </div>
                {% endif %}
                {% if bHasRelatedProductsPlugin and obRelatedProductList.isNotEmpty() %}
                <div>
                    {% partial 'product/product_slider' obProductList=obRelatedProductList %}
                </div>
                {% endif %}
                {% if bHasReviewsPlugin %}
                <div>
                    {% partial 'section/review_list_wrapper' obProduct=obProduct %}
                </div>
                {% endif %}
                {% if bHasAccessoriesPlugin  and obAccessoryProductList.isNotEmpty() %}
                <div>
                    {% partial 'product/product_slider' obProductList=obAccessoryProductList %}
                </div>
                {% endif %}
            </div>
        </div>
        <div class="uk-margin-small-top">
            {% partial 'product/product_description' obProduct=obProduct %}
        </div>
    </div>
    <div class="uk-width-1-6">
        {% partial 'right_panel/product_page' %}
    </div>
</div>";s:4:"code";s:1268:"function onInit()
{
    /**
     * Check if MakeReview component has been registered and autoload it
     **/
    // [MakeReview]
    // mode = "ajax"

    $obManager = \Cms\Classes\ComponentManager::instance();
    if ($obManager->hasComponent('Lovata\ReviewsShopaholic\Components\MakeReview')){
        $this->addComponent('Lovata\ReviewsShopaholic\Components\MakeReview', 'MakeReview', [ 'mode' => 'ajax']);
    }

    $this['bHasPropertiesPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.PropertiesShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.PropertiesShopaholic');
    $this['bHasRelatedProductsPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.RelatedProductsShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.RelatedProductsShopaholic');
    $this['bHasReviewsPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.ReviewsShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.ReviewsShopaholic');
    $this['bHasAccessoriesPlugin'] = \System\Classes\PluginManager::instance()->hasPlugin('Lovata.AccessoriesShopaholic') && !\System\Classes\PluginManager::instance()->isDisabled('Lovata.AccessoriesShopaholic');
}";s:5:"title";s:12:"Product page";s:3:"url";s:39:"/catalog/:main_category/:category/:slug";s:6:"layout";s:4:"main";s:10:"meta_title";s:12:"Product page";s:9:"is_hidden";s:1:"0";s:12:"CategoryPage";a:3:{s:4:"slug";s:15:"{{ :category }}";s:13:"slug_required";s:1:"1";s:15:"smart_url_check";s:1:"0";}s:31:"CategoryPage ParentCategoryPage";a:3:{s:4:"slug";s:20:"{{ :main_category }}";s:13:"slug_required";s:1:"1";s:15:"smart_url_check";s:1:"0";}s:11:"ProductPage";a:3:{s:4:"slug";s:11:"{{ :slug }}";s:13:"slug_required";s:1:"1";s:15:"smart_url_check";s:1:"1";}s:18:"CatalogBreadcrumbs";a:0:{}s:11:"ProductData";a:0:{}s:10:"Pagination";a:20:{s:14:"count_per_page";s:1:"5";s:16:"pagination_limit";s:1:"5";s:12:"active_class";s:9:"uk-active";s:11:"button_list";s:46:"prev,first,first-more,main,last-more,last,next";s:17:"first_button_name";s:5:"First";s:18:"first_button_limit";s:1:"3";s:22:"first-more_button_name";s:3:"...";s:23:"first-more_button_limit";s:1:"3";s:16:"prev_button_name";s:4:"Prev";s:17:"prev_button_limit";s:1:"1";s:21:"prev-more_button_name";s:3:"...";s:22:"prev-more_button_limit";s:1:"1";s:21:"next-more_button_name";s:3:"...";s:22:"next-more_button_limit";s:1:"1";s:16:"next_button_name";s:4:"Next";s:17:"next_button_limit";s:1:"1";s:21:"last-more_button_name";s:3:"...";s:22:"last-more_button_limit";s:1:"3";s:16:"last_button_name";s:4:"Last";s:17:"last_button_limit";s:1:"3";}}}